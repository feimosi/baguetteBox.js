/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.8.1
 * @url https://github.com/feimosi/baguetteBox.js
 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.baguetteBox=b()}(this,function(){"use strict";function C(a,b){f.transforms=Y(),f.svg=Z(),G(),F(a),D(a,b)}function D(a,b){var c=document.querySelectorAll(a),d={galleries:[],nodeList:c};r[a]=d,[].forEach.call(c,function(a){b&&b.filter&&(p=b.filter);var c=[];if(c="A"===a.tagName?[a]:a.getElementsByTagName("a"),c=[].filter.call(c,function(a){return p.test(a.href)}),0!==c.length){var e=[];[].forEach.call(c,function(a,c){var d=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,K(e,b),M(c)},f={eventHandler:d,imageElement:a};aa(a,"click",d),e.push(f)}),d.galleries.push(e)}})}function E(){for(var a in r)r.hasOwnProperty(a)&&F(a)}function F(a){if(r.hasOwnProperty(a)){var b=r[a].galleries;[].forEach.call(b,function(a){[].forEach.call(a,function(a){ba(a.imageElement,"click",a.eventHandler)}),l===a&&(l=[])}),delete r[a]}}function G(){return(g=ca("baguetteBox-overlay"))?(h=ca("baguetteBox-slider"),i=ca("previous-button"),j=ca("next-button"),void(k=ca("close-button"))):(g=da("div"),g.setAttribute("role","dialog"),g.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(g),h=da("div"),h.id="baguetteBox-slider",g.appendChild(h),i=da("button"),i.setAttribute("type","button"),i.id="previous-button",i.setAttribute("aria-label","Previous"),i.innerHTML=f.svg?a:"&lt;",g.appendChild(i),j=da("button"),j.setAttribute("type","button"),j.id="next-button",j.setAttribute("aria-label","Next"),j.innerHTML=f.svg?b:"&gt;",g.appendChild(j),k=da("button"),k.setAttribute("type","button"),k.id="close-button",k.setAttribute("aria-label","Close"),k.innerHTML=f.svg?c:"&times;",g.appendChild(k),i.className=j.className=k.className="baguetteBox-button",void I())}function H(a){switch(a.keyCode){case 37:W();break;case 39:V();break;case 27:Q()}}function I(){aa(g,"click",u),aa(i,"click",v),aa(j,"click",w),aa(k,"click",x),aa(g,"touchstart",y),aa(g,"touchmove",z),aa(g,"touchend",A),aa(document,"focus",B,!0)}function J(){ba(g,"click",u),ba(i,"click",v),ba(j,"click",w),ba(k,"click",x),ba(g,"touchstart",y),ba(g,"touchmove",z),ba(g,"touchend",A),ba(document,"focus",B,!0)}function K(a,b){if(l!==a){for(l=a,L(b);h.firstChild;)h.removeChild(h.firstChild);s.length=0;for(var f,c=[],d=[],e=0;e<a.length;e++)f=da("div"),f.className="full-image",f.id="baguette-img-"+e,s.push(f),c.push("baguetteBox-figure-"+e),d.push("baguetteBox-figcaption-"+e),h.appendChild(s[e]);g.setAttribute("aria-labelledby",c.join(" ")),g.setAttribute("aria-describedby",d.join(" "))}}function L(a){a||(a={});for(var b in e)d[b]=e[b],"undefined"!=typeof a[b]&&(d[b]=a[b]);h.style.transition=h.style.webkitTransition="fadeIn"===d.animation?"opacity .4s ease":"slideIn"===d.animation?"":"none","auto"===d.buttons&&("ontouchstart"in window||1===l.length)&&(d.buttons=!1),i.style.display=j.style.display=d.buttons?"":"none";try{g.style.backgroundColor=d.overlayBackgroundColor}catch(a){}}function M(a){d.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==g.style.display&&(aa(document,"keydown",H),m=a,n={count:0,startX:null,startY:null},S(m,function(){$(m),_(m)}),X(),g.style.display="block",d.fullScreen&&O(),setTimeout(function(){g.className="visible",d.afterShow&&d.afterShow()},50),d.onChange&&d.onChange(m,s.length),t=document.activeElement,N())}function N(){d.buttons?i.focus():k.focus()}function O(){g.requestFullscreen?g.requestFullscreen():g.webkitRequestFullscreen?g.webkitRequestFullscreen():g.mozRequestFullScreen&&g.mozRequestFullScreen()}function P(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function Q(){d.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==g.style.display&&(ba(document,"keydown",H),g.className="",setTimeout(function(){g.style.display="none",P(),d.afterHide&&d.afterHide()},500),R(),t.focus())}function R(){[].forEach.call(s,function(a){a.getElementsByTagName("video").length>0&&a.getElementsByTagName("video")[0].pause()})}function S(a,b){var c=s[a],e=l[a],f=!1;if(void 0!=c&&(f=q.test(e.imageElement.href)),void 0!==c&&void 0!==e){if(c.getElementsByTagName("img")[0]&&!f)return void(b&&b());if(c.getElementsByTagName("video")[0]&&f)return void(b&&b());var g=e.imageElement,h=null;h=f?g.getElementsByTagName("video")[0]:g.getElementsByTagName("img")[0];var i="function"==typeof d.captions?d.captions.call(l,g):g.getAttribute("data-caption")||g.title,j=null;j=f?T(g):U(g);var k=da("figure");if(k.id="baguetteBox-figure-"+a,k.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',d.captions&&i){var m=da("figcaption");m.id="baguetteBox-figcaption-"+a,m.innerHTML=i,k.appendChild(m)}if(c.appendChild(k),f){var n=da("video");n.addEventListener("loadeddata",function(){var c=document.querySelector("#baguette-img-"+a+" .baguetteBox-spinner");k.removeChild(c),!d.async&&b&&b()});var o=da("source");o.setAttribute("src",j),n.appendChild(o),d.titleTag&&i&&(n.title=i),k.appendChild(n)}else{var p=da("img");p.onload=function(){var c=document.querySelector("#baguette-img-"+a+" .baguetteBox-spinner");k.removeChild(c),!d.async&&b&&b()},p.setAttribute("src",j),p.alt=h?h.alt||"":"",d.titleTag&&i&&(p.title=i),k.appendChild(p)}d.async&&b&&b()}}function T(a){var b=a.getElementsByTagName("video")[0].getElementsByTagName("source")[0].src;if(a.dataset){var c=[];for(var d in a.dataset)"at-"!==d.substring(0,3)||isNaN(d.substring(3))||(c[d.replace("at-","")]=a.dataset[d]);for(var e=Object.keys(c).sort(function(a,b){return parseInt(a,10)<parseInt(b,10)?-1:1}),f=window.innerWidth*window.devicePixelRatio,g=0;g<e.length-1&&e[g]<f;)g++;b=c[e[g]]||b}return b}function U(a){var b=a.href;if(a.dataset){var c=[];for(var d in a.dataset)"at-"!==d.substring(0,3)||isNaN(d.substring(3))||(c[d.replace("at-","")]=a.dataset[d]);for(var e=Object.keys(c).sort(function(a,b){return parseInt(a,10)<parseInt(b,10)?-1:1}),f=window.innerWidth*window.devicePixelRatio,g=0;g<e.length-1&&e[g]<f;)g++;b=c[e[g]]||b}return b}function V(){var a;return m<=s.length-2?(m++,X(),$(m),a=!0):d.animation&&(h.className="bounce-from-right",setTimeout(function(){h.className=""},400),a=!1),d.onChange&&d.onChange(m,s.length),a}function W(){var a;return m>=1?(m--,X(),_(m),a=!0):d.animation&&(h.className="bounce-from-left",setTimeout(function(){h.className=""},400),a=!1),d.onChange&&d.onChange(m,s.length),a}function X(){R();var a=100*-m+"%";"fadeIn"===d.animation?(h.style.opacity=0,setTimeout(function(){f.transforms?h.style.transform=h.style.webkitTransform="translate3d("+a+",0,0)":h.style.left=a,h.style.opacity=1},400)):f.transforms?h.style.transform=h.style.webkitTransform="translate3d("+a+",0,0)":h.style.left=a,s[m].getElementsByTagName("video").length>0&&s[m].getElementsByTagName("video")[0].play()}function Y(){var a=da("div");return"undefined"!=typeof a.style.perspective||"undefined"!=typeof a.style.webkitPerspective}function Z(){var a=da("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)}function $(a){a-m>=d.preload||S(a+1,function(){$(a+1)})}function _(a){m-a>=d.preload||S(a-1,function(){_(a-1)})}function aa(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function ba(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c)}function ca(a){return document.getElementById(a)}function da(a){return document.createElement(a)}function ea(){J(),E(),ba(document,"keydown",H),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),r={},l=[],m=0}var g,h,i,j,k,a='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',b='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',c='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',d={},e={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},f={},l=[],m=0,n={},o=!1,p=/.+\.(gif|jpe?g|png|webp|mp4|webm)/i,q=/.+\.(mp4|webm)/i,r={},s=[],t=null,u=function(a){a.target.id.indexOf("baguette-img")!==-1&&Q()},v=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,W()},w=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,V()},x=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,Q()},y=function(a){n.count++,n.count>1&&(n.multitouch=!0),n.startX=a.changedTouches[0].pageX,n.startY=a.changedTouches[0].pageY},z=function(a){if(!o&&!n.multitouch){a.preventDefault?a.preventDefault():a.returnValue=!1;var b=a.touches[0]||a.changedTouches[0];b.pageX-n.startX>40?(o=!0,W()):b.pageX-n.startX<-40?(o=!0,V()):n.startY-b.pageY>100&&Q()}},A=function(){n.count--,n.count<=0&&(n.multitouch=!1),o=!1},B=function(a){"block"!==g.style.display||g.contains(a.target)||(a.stopPropagation(),N())};return[].forEach||(Array.prototype.forEach=function(a,b){for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)}),[].filter||(Array.prototype.filter=function(a,b,c,d,e){for(c=this,d=[],e=0;e<c.length;e++)a.call(b,c[e],e,c)&&d.push(c[e]);return d}),{run:C,destroy:ea,showNext:V,showPrevious:W}});
